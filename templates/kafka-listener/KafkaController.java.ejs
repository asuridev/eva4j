package <%= packageName %>.<%= moduleName %>.infrastructure.kafkaListener;

import <%= packageName %>.shared.infrastructure.configurations.useCaseConfig.UseCaseMediator;
import <%= packageName %>.shared.infrastructure.eventEnvelope.EventEnvelope;

import org.springframework.beans.factory.annotation.Value;
import org.springframework.kafka.annotation.KafkaListener;
import org.springframework.kafka.support.Acknowledgment;
import org.springframework.stereotype.Component;

import java.util.Map;


@Component
public class KafkaController {

    private final UseCaseMediator useCaseMediator;

    @Value("<%= topicSpringProperty %>")
    private String <%= topicVariableName %>Topic;

    public KafkaController(UseCaseMediator useCaseMediator) {
        this.useCaseMediator = useCaseMediator;
    }

    @KafkaListener(topics = "<%= topicSpringProperty %>")
    void <%= methodName %>(EventEnvelope<Map<String, Object>> event, Acknowledgment ack) {
        // TODO: Implement event processing logic
        // Example: useCaseMediator.dispatch(new YourCommand(event.data()));
        
        ack.acknowledge(); // Confirmar procesamiento exitoso
    }

}
