package <%= packageName %>.shared.application.dtos;

import java.util.List;

/**
 * Generic paginated response wrapper.
 * Decouples API responses from Spring Data's Page internals.
 *
 * @param <T> the type of content elements
 */
public record PagedResponse<T>(
    List<T> content,
    int page,
    int size,
    long totalElements,
    int totalPages
) {

    /**
     * Creates a PagedResponse from Spring Data's Page object via explicit parameters.
     */
    public static <T> PagedResponse<T> of(
            List<T> content,
            int page,
            int size,
            long totalElements) {
        int totalPages = size == 0 ? 1 : (int) Math.ceil((double) totalElements / size);
        return new PagedResponse<>(content, page, size, totalElements, totalPages);
    }
}
